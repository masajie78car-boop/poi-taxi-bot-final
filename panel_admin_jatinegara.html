<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Stasiun Jatinegara — Panel Admin</title>
  <style>
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;background:#f8fafc;color:#042;line-height:1.4}
    header{background:#065f46;color:white;padding:18px 20px;border-radius:0 0 12px 12px}
    main{padding:20px;max-width:1100px;margin:20px auto}
    .card{background:white;padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(2,6,23,0.06);margin-bottom:12px}
    .list{display:flex;flex-direction:column;gap:10px}
    .unit{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:8px;border:1px solid #e6eef8}
    .meta{font-size:12px;color:#6b7280}
  </style>
</head>
<body>
  <header>
    <h1>Stasiun Jatinegara — Panel Admin</h1>
    <div style="font-size:13px;margin-top:6px">User: <strong id="userEmail">-</strong></div>
  </header>
  <main>
    <div class="card">
      <h2>Unit POI (maks 6 unit)</h2>
      <p class="meta">Menampilkan hingga 6 unit pickup untuk Stasiun Jatinegara.</p>
      <div class="list" id="unitsList"></div>
    </div>

    <div class="card">
      <h3>Tambah / Edit (demo)</h3>
      <p class="meta">Form sederhana untuk menambah unit pada tampilan (hanya di client-side).</p>
      <label>Nama unit <input id="newName" placeholder="Contoh: Pintu A - Platform 1" style="width:100%;padding:8px;margin-top:6px"/></label>
      <button onclick="addUnit()">Tambahkan (client-side)</button>
    </div>
  </main>

  <script>
    let units = [
      { id: 'JT-01', name: 'Pintu A - Platform 1', status: 'Tersedia' },
      { id: 'JT-02', name: 'Pintu B - Area Taksi', status: 'Sibuk' },
      { id: 'JT-03', name: 'Pintu C - Dropoff', status: 'Tersedia' }
    ];

    function render(){
      const container = document.getElementById('unitsList');
      container.innerHTML = '';
      units.slice(0,6).forEach(u => {
        const el = document.createElement('div');
        el.className = 'unit';
        el.innerHTML = `<div><strong>${u.id}</strong><div style="font-size:14px">${u.name}</div></div><div class="meta">${u.status}</div>`;
        container.appendChild(el);
      });
      if(units.length > 6){
        const info = document.createElement('div');
        info.className = 'meta';
        info.style.marginTop = '8px';
        info.textContent = 'Catatan: Hanya 6 unit yang ditampilkan (maks).';
        container.appendChild(info);
      }
    }

    function addUnit(){
      const name = document.getElementById('newName').value.trim();
      if(!name){ alert('Masukkan nama unit'); return; }
      const id = 'JT-' + String(units.length + 1).padStart(2,'0');
      units.push({ id, name, status: 'Tersedia' });
      render();
      document.getElementById('newName').value = '';
    }

    // show user email from query param
    const params = new URLSearchParams(location.search);
    const u = params.get('u') || 'wijayaselalu8@gmail.com';
    document.getElementById('userEmail').textContent = u;

    render();
  </script>
</body>
</html>
